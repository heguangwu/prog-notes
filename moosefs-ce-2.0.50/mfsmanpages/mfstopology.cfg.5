.TH mfstopology.cfg "5" "February 2015" "MooseFS 2.0.50-1" "This is part of MooseFS"
.SH NAME
mfstopology.cfg \- MooseFS network topology definitions
.SH DESCRIPTION
The file \fBmfstopology.cfg\fP contains assignments of IP addresses into 
network locations (usually switch numbers). This file is optional. If your
network has one switch or decreasing traffic between switches is not necessary
then leave this file empty.
.SH SYNTAX
.PP
Syntax is:
.TP
\fIADDRESS\fP \fISWITCH-NUMBER\fP
.PP
Lines starting with \fB#\fP character are ignored as comments.
.PP
\fIADDRESS\fP can be specified in several forms:
.PP
.nf
.ta +2i
\fB*\fP	all addresses
\fBn.n.n.n\fP	single IP address
\fBn.n.n.n/b\fP	IP class specified by network address and bits number
\fBn.n.n.n/m.m.m.m\fP	IP class specified by network address and mask
\fBf.f.f.f-t.t.t.t\fP	IP range specified by from-to addresses (inclusive)
.fi
.PP
\fISWITCH-NUMBER\fP can be specified as any positive 32-bit numer.
.SH NOTES
If one IP belongs to more than one definition then last definition is used.
.PP
As for now distance between switches is constant. So distance between machines
is calculated as: \fB0\fP when IP numbers are the same, \fB1\fP when IP numbers
are different, but switch numbers are the same and \fB2\fP when switch numbers
are different
.PP
Distances are used only to sort chunkservers during read and write operations.
New chunks are still created randomly. Also rebalance routines do not take
distances into account.
.SH COPYRIGHT
Copyright Jakub Kruszona-Zawadzki, Core Technology Sp. z o.o.

This file is part of MooseFS.

READ THIS BEFORE INSTALLING THE SOFTWARE. BY INSTALLING,
ACTIVATING OR USING THE SOFTWARE, YOU ARE AGREEING TO BE BOUND BY
THE TERMS AND CONDITIONS OF MooseFS LICENSE AGREEMENT FOR
VERSION 1.7 AND HIGHER IN A SEPARATE FILE. THIS SOFTWARE IS LICENSED AS
THE PROPRIETARY SOFTWARE. YOU NOT ACQUIRE
ANY OWNERSHIP RIGHT, TITLE OR INTEREST IN OR TO ANY INTELLECTUAL
PROPERTY OR OTHER PROPRIETARY RIGHTS.
.SH "SEE ALSO"
.BR mfsmaster (8),
.BR mfsmaster.cfg (5)
